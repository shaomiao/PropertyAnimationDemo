package com.example.shaomiao.myapplication;import android.animation.ObjectAnimator;import android.service.carrier.CarrierService;import android.support.v7.app.AppCompatActivity;import android.os.Bundle;import android.support.v7.widget.SwitchCompat;import android.view.View;import android.view.animation.BounceInterpolator;import android.widget.ImageView;import java.util.ArrayList;import java.util.List;public class AnimationPopupMenuActivity extends AppCompatActivity implements View.OnClickListener {    private boolean flag=true;    private int[]res={R.id.a,R.id.b,R.id.c,R.id.d,R.id.e,R.id.f,R.id.g,R.id.h};    private List<ImageView> imageViewList=new ArrayList<ImageView>();    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_animation_popup_menu);        for (int i=0;i<res.length;i++){            ImageView imageView=(ImageView) findViewById(res[i]);            imageView.setOnClickListener(this);            imageViewList.add(imageView);        }    }    @Override    public void onClick(View v) {        switch (v.getId()){            case R.id.a:                if(flag) {                    startAnim();                }else{                    closeAnim();                }                break;        }    }    private void closeAnim() {        for (int i=1;i<res.length;i++){            ObjectAnimator animator=ObjectAnimator.ofFloat(imageViewList.get(i),"translationY",70f*i,0F);            animator.setDuration(500);            //动画延时            animator.setStartDelay(i*300);            animator.start();        }        flag=true;    }    private void startAnim() {        for (int i=1;i<res.length;i++){            ObjectAnimator animator=ObjectAnimator.ofFloat(imageViewList.get(i),"translationY",0F,70f*i);            animator.setDuration(500);            //动画延时            animator.setStartDelay(i*300);            //插值器            animator.setInterpolator(new BounceInterpolator());            animator.start();        }        flag=false;    }}